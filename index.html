<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prestação de Contas - Hodômetro</title>
  <style>
    /* Reset básico e estilos essenciais */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4; /* Fundo mais neutro */
      color: #333;
      line-height: 1.5;
      padding: 20px 10px 50px;
    }
    main {
      max-width: 900px;
      margin: 30px auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #333;
      font-family: 'Georgia', serif;
      font-size: 2.2rem;
    }

    /* Estilos para a seção de cada motorista */
    .driver-section {
      background: #ffffff;
      padding: 25px 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin-bottom: 25px; /* Espaçamento entre as seções */
    }
    .driver-section h2 {
      text-align: left;
      margin-bottom: 20px;
      color: #0056b3; /* Cor mais corporativa */
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }

    /* Estilos para o formulário */
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #333;
      font-weight: 600;
    }
    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group input[type="file"] {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-family: 'Segoe UI', sans-serif;
      font-size: 1rem;
      background: #fff;
    }
    
    /* Estilo para a pré-visualização da imagem */
    .image-preview {
      display: block;
      max-width: 250px; /* Tamanho da imagem de preview */
      margin-top: 10px;
      border: 1px solid #ddd;
      padding: 5px;
      border-radius: 4px;
    }
  </style>
</head>
<body>

<main>
  <h1>Controle de Hodômetro</h1>

  <!-- O container abaixo será preenchido pelo JavaScript -->
  <div id="drivers-container"></div>
</main>

<script>
  // Função para gerar a pré-visualização da imagem selecionada
  function previewImage(driverId) {
    const input = document.getElementById('odometerPhoto' + driverId);
    const preview = document.getElementById('imagePreview' + driverId);

    // Garante que um arquivo foi selecionado
    if (input.files && input.files[0]) {
      const reader = new FileReader();

      // Quando o arquivo for lido, o resultado é colocado na tag <img>
      reader.onload = function (e) {
        preview.src = e.target.result;
        preview.style.display = 'block'; // Mostra a imagem
      }

      reader.readAsDataURL(input.files[0]);
    }
  }

  // Executa quando a página é totalmente carregada
  document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('drivers-container');
    const totalDrivers = 20;

    // Loop para criar uma seção para cada motorista
    for (let i = 1; i <= totalDrivers; i++) {
      // Cria um novo elemento <div>
      const driverSection = document.createElement('div');
      driverSection.className = 'driver-section'; // Adiciona a classe de estilo

      // Define o conteúdo HTML para a seção do motorista
      // Note os IDs únicos para cada campo (ex: 'driverName' + i)
      driverSection.innerHTML = `
        <h2>Motorista ${i}</h2>
        <form>
          <div class="form-group">
            <label for="driverName${i}">Nome do Motorista:</label>
            <input type="text" id="driverName${i}" name="driverName" required>
          </div>
          <div class="form-group">
            <label for="photoDate${i}">Data da Foto:</label>
            <input type="date" id="photoDate${i}" name="photoDate" required>
          </div>
          <div class="form-group">
            <label for="photoLocation${i}">Local da Foto:</label>
            <input type="text" id="photoLocation${i}" name="photoLocation" required>
          </div>
          <div class="form-group">
            <label for="odometerPhoto${i}">Anexar Foto do Hodômetro:</label>
            <input type="file" id="odometerPhoto${i}" name="odometerPhoto" accept="image/*" onchange="previewImage(${i})" required>
          </div>
          
          <!-- A tag de imagem para pré-visualização começa escondida -->
          <img id="imagePreview${i}" class="image-preview" style="display:none;" alt="Pré-visualização do Hodômetro">
        </form>
      `;

      // Adiciona a nova seção criada ao container principal
      container.appendChild(driverSection);
    }
  });
</script>

</body>
</html>
